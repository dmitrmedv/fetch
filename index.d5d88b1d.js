!function(){var t,e=document.querySelector(".form"),n=document.querySelector(".list");function a(){fetch("http://localhost:3000/letters").then((function(t){return t.json()})).then((function(e){t=0!==e.length?e[e.length-1].number+1:1;var a=e.sort((function(t,e){return e.number-t.number}));n.innerHTML=a.map((function(t){var e=t.addres,n=t.name,a=t.lastname,o=t.id,r=t.number;return"<li>\n   <p>вхідний номер: ".concat(r,"к</p>   \n<p>замовник: ").concat(n," ").concat(a,"</p>\n<p>адреса: ").concat(e,"</p>\n<button type='button' class='del-btn' data-id=").concat(o,">delete</button>\n</li>")})).join("")}))}a(),e.addEventListener("submit",(function(e){e.preventDefault();var n={name:e.target.elements.name.value,lastname:e.target.elements.lastname.value,addres:e.target.elements.addres.value,number:t};fetch("http://localhost:3000/letters",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(){a(),t+=1})).finally((function(){e.target.reset(),e.target.elements.name.focus()}))})),n.addEventListener("click",(function(t){t.target.classList.contains("del-btn")&&(console.log(t.target.dataset.id),fetch("http://localhost:3000/letters/".concat(t.target.dataset.id),{method:"DELETE"}).then((function(){return a()})))}))}();
//# sourceMappingURL=index.d5d88b1d.js.map
