!function(){var t=document.querySelector(".form"),e=document.querySelector(".list"),n=1;function a(){fetch("http://localhost:3000/letters").then((function(t){return t.json()})).then((function(t){0!==t.length&&(n=t[t.length-1].number+1);var a=t.sort((function(t,e){return e.number-t.number}));e.innerHTML=a.map((function(t){var e=t.addres,n=t.name,a=t.lastname,o=t.id,r=t.number;return"<li>\n   <p>вхідний номер: ".concat(r,"к</p>   \n<p>замовник: ").concat(n," ").concat(a,"</p>\n<p>адреса: ").concat(e,"</p>\n<button type='button' class='del-btn' data-id=").concat(o,">delete</button>\n</li>")})).join("")}))}a(),t.addEventListener("submit",(function(t){t.preventDefault();var e={name:t.target.elements.name.value,lastname:t.target.elements.lastname.value,addres:t.target.elements.addres.value,number:n};fetch("http://localhost:3000/letters",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){a(),n+=1})).finally((function(){t.target.reset(),t.target.elements.name.focus()}))})),e.addEventListener("click",(function(t){t.target.classList.contains("del-btn")&&(console.log(t.target.dataset.id),fetch("http://localhost:3000/letters/".concat(t.target.dataset.id),{method:"DELETE"}).then((function(){return a()})))}))}();
//# sourceMappingURL=index.0b3145c3.js.map
