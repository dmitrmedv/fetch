const t=document.querySelector(".form"),e=document.querySelector(".list");let n;function a(){fetch("http://localhost:3000/letters").then((t=>t.json())).then((t=>{n=0!==t.length?t[t.length-1].number+1:1;let a=t.sort(((t,e)=>e.number-t.number));e.innerHTML=a.map((({addres:t,name:e,lastname:n,id:a,number:l})=>`<li>\n   <p>вхідний номер: ${l}к</p>   \n<p>замовник: ${e} ${n}</p>\n<p>адреса: ${t}</p>\n<button type='button' class='del-btn' data-id=${a}>delete</button>\n</li>`)).join("")}))}a(),t.addEventListener("submit",(function(t){t.preventDefault();const e={name:t.target.elements.name.value,lastname:t.target.elements.lastname.value,addres:t.target.elements.addres.value,number:n};fetch("http://localhost:3000/letters",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((()=>{a(),n+=1})).finally((()=>{t.target.reset(),t.target.elements.name.focus()}))})),e.addEventListener("click",(function(t){t.target.classList.contains("del-btn")&&(console.log(t.target.dataset.id),fetch(`http://localhost:3000/letters/${t.target.dataset.id}`,{method:"DELETE"}).then((()=>a())))}));
//# sourceMappingURL=index.8648cfd7.js.map
